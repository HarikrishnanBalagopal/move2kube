apiVersion: move2kube.konveyor.io/v1alpha1
kind: Parameterizer
metadata:
  name: t1
spec:
  parameterizers:
    # Case 1:
    - target: 'metadata.annotations."openshift.io/node-selector"'
      filters:
        - kind: Deployment
          apiVersion: "apps/v1|extensions/v1beta1"
        - kind: Service
          apiVersion: v1
    - target: "spec.replicas"
      template: "${common.replicas}"
      default: 10
      filters:
        - kind: Deployment
          apiVersion: ".*/v1.*"
    - target: "spec.template.spec.containers.[0].image"
      template: '${imageregistry.url}/${imageregistry.namespace}/${image.name}:${image.tag}'
      filters:
        - kind: Deployment
          apiVersion: "apps/v1"
